<!DOCTYPE html>
<html lang="es">
<head>
    <title>Ahorcado</title>
    <meta charset="utf-8">
</head>
<body>
    <header>
        <h1>{{ titulo }}</h1>
    </header>
    <section>
        <article>
            <p id="pregunta"></p>
        </article>
        <button onclick="siguientePregunta()">Siguiente</button>
    </section>

    <script>
        let preguntas = [];
        let preguntaActual = 1;

        function mostrarPregunta() {
            const pregunta = preguntas[preguntaActual].pregunta;
            document.querySelector("#pregunta").textContent = pregunta;
        }

        function siguientePregunta() {
            preguntaActual++;
            if (preguntaActual < preguntas.length) {
                mostrarPregunta();
            } else {
                document.querySelector("#pregunta").textContent = "Â¡Has respondido todas las preguntas!";
            }
        }

        function obtenerPreguntas() {
            fetch('http://localhost:3000/jugar')
                .then(response => response.json())
                .then(data => {
                    preguntas = data;
                    mostrarPregunta();
                })
                .catch(error => {
                    console.error(error);
                });
        }

        obtenerPreguntas();
    </script>
</body>
</html>